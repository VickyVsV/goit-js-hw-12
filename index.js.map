{"version":3,"file":"index.js","sources":["../src/js/pixabay-api.js","../src/js/render-functions.js","../src/main.js"],"sourcesContent":["import axios from 'axios';\n\nconst API_KEY = '32675885-ded1f22898004e0649ebaa6fc';\naxios.defaults.baseURL = 'https://pixabay.com/api/';\n\nexport function getImagesByQuery(query, page) {\n  return axios.get(\n    `?key=${API_KEY}&q=${query}&image_type=photo&orientation=horizontal&safesearch=true&per_page=${page}`\n  );\n}","import SimpleLightbox from \"simplelightbox\";\nimport \"simplelightbox/dist/simple-lightbox.min.css\";\n\nconst refs = {\n  galleryEl: document.querySelector('.gallery'),\n};\n\nexport function renderPhotoList(images) {\n  const photoListTemplate = createGallery(images);\n  refs.galleryEl.insertAdjacentHTML('beforeend', photoListTemplate);\n  lightbox.refresh();\n}\n\nexport function clearGallery() {\n  refs.galleryEl.innerHTML = '';\n}\n\nfunction createGallery(images) {\n  return images\n    .map(\n      image => `\n        <li class=\"gallery-item\">\n          <div class=\"image-container\">\n            <a class=\"gallery-link\" href=\"${image.largeImageURL}\"><img src=\"${image.webformatURL}\" alt=\"${image.tags}\" /></a>\n          </div>\n          <div class=\"info-container\">\n            <ul class=\"img-desc\">\n              <li><strong>Likes:</strong> ${image.likes}</li>\n              <li><strong>Views:</strong> ${image.views}</li>\n              <li><strong>Comments:</strong> ${image.comments}</li>\n              <li><strong>Downloads:</strong> ${image.downloads}</li>\n            </ul>\n          </div>\n        </li>\n      `\n    )\n    .join('');\n}\n\nlet lightbox;\n\nlightbox = new SimpleLightbox('.gallery a', {\n  captionsData: \"alt\",\n  captionDelay: 250,\n});","import iziToast from 'izitoast';\nimport 'izitoast/dist/css/iziToast.min.css';\n\nimport { getImagesByQuery } from './js/pixabay-api.js';\nimport { renderPhotoList, clearGallery } from './js/render-functions.js';\n\nconst refs = {\n  formEl: document.querySelector('.form'),\n  inputEl: document.querySelector('.input-value'),\n  loadingEl: document.querySelector('.loading'),\n};\n\nfunction showLoader() {\n  refs.loadingEl.style.display = 'block';\n}\n\nfunction hideLoader() {\n  refs.loadingEl.style.display = 'none';\n}\n\nrefs.formEl.addEventListener('submit', evt => {\n  evt.preventDefault();\n\n  const query = refs.inputEl.value.trim();\n\n  if (!query) {\n    iziToast.error({\n      title: 'Error',\n      message: '❌ Please enter a search term!',\n      position: 'topRight',\n    });\n    return;\n  }\n\n  clearGallery();\n  showLoader();\n\n  getImagesByQuery(query, page)\n    .then(response => {\n      hideLoader(); // Скрываем спиннер с задержкой\n      if (response.data.hits.length === 0 && refs.inputEl.value !== '') {\n        // Если нет изображений, показываем сообщение\n        iziToast.error({\n          title: 'Error',\n          message: `❌ Sorry, there are no images matching your search query. Please try again!`,\n          position: 'topRight',\n        });\n      } else {\n        // Если есть изображения, скрываем сообщение\n        renderPhotoList(response.data.hits);\n      }\n    })\n    .catch(error => {\n      refs.loadingEl.style.display = 'none';\n      iziToast.error({\n        title: 'Error',\n        message: `❌ Something went wrong!`,\n        position: 'topRight',\n      });\n    });\n});\n"],"names":["API_KEY","axios","getImagesByQuery","query","page","refs","renderPhotoList","images","photoListTemplate","createGallery","lightbox","clearGallery","image","SimpleLightbox","showLoader","hideLoader","evt","iziToast","response","error"],"mappings":"owBAEA,MAAMA,EAAU,qCAChBC,EAAM,SAAS,QAAU,2BAElB,SAASC,EAAiBC,EAAOC,EAAM,CAC5C,OAAOH,EAAM,IACX,QAAQD,CAAO,MAAMG,CAAK,qEAAqEC,CAAI,EACvG,CACA,CCNA,MAAMC,EAAO,CACX,UAAW,SAAS,cAAc,UAAU,CAC9C,EAEO,SAASC,EAAgBC,EAAQ,CACtC,MAAMC,EAAoBC,EAAcF,CAAM,EAC9CF,EAAK,UAAU,mBAAmB,YAAaG,CAAiB,EAChEE,EAAS,QAAO,CAClB,CAEO,SAASC,GAAe,CAC7BN,EAAK,UAAU,UAAY,EAC7B,CAEA,SAASI,EAAcF,EAAQ,CAC7B,OAAOA,EACJ,IACCK,GAAS;AAAA;AAAA;AAAA,4CAG6BA,EAAM,aAAa,eAAeA,EAAM,YAAY,UAAUA,EAAM,IAAI;AAAA;AAAA;AAAA;AAAA,4CAIxEA,EAAM,KAAK;AAAA,4CACXA,EAAM,KAAK;AAAA,+CACRA,EAAM,QAAQ;AAAA,gDACbA,EAAM,SAAS;AAAA;AAAA;AAAA;AAAA,OAK1D,EACA,KAAK,EAAE,CACZ,CAEA,IAAIF,EAEJA,EAAW,IAAIG,EAAe,aAAc,CAC1C,aAAc,MACd,aAAc,GAChB,CAAC,ECtCD,MAAMR,EAAO,CACX,OAAQ,SAAS,cAAc,OAAO,EACtC,QAAS,SAAS,cAAc,cAAc,EAC9C,UAAW,SAAS,cAAc,UAAU,CAC9C,EAEA,SAASS,GAAa,CACpBT,EAAK,UAAU,MAAM,QAAU,OACjC,CAEA,SAASU,GAAa,CACpBV,EAAK,UAAU,MAAM,QAAU,MACjC,CAEAA,EAAK,OAAO,iBAAiB,SAAUW,GAAO,CAC5CA,EAAI,eAAc,EAElB,MAAMb,EAAQE,EAAK,QAAQ,MAAM,KAAI,EAErC,GAAI,CAACF,EAAO,CACVc,EAAS,MAAM,CACb,MAAO,QACP,QAAS,gCACT,SAAU,UAChB,CAAK,EACD,MACD,CAEDN,IACAG,IAEAZ,EAAiBC,EAAO,IAAI,EACzB,KAAKe,GAAY,CAChBH,IACIG,EAAS,KAAK,KAAK,SAAW,GAAKb,EAAK,QAAQ,QAAU,GAE5DY,EAAS,MAAM,CACb,MAAO,QACP,QAAS,6EACT,SAAU,UACpB,CAAS,EAGDX,EAAgBY,EAAS,KAAK,IAAI,CAE1C,CAAK,EACA,MAAMC,GAAS,CACdd,EAAK,UAAU,MAAM,QAAU,OAC/BY,EAAS,MAAM,CACb,MAAO,QACP,QAAS,0BACT,SAAU,UAClB,CAAO,CACP,CAAK,CACL,CAAC"}